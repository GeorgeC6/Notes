# 误差

> “备胎”天元
> - HW 40%
> - Exam 60%

## 基本概念

```mermaid
graph LR
    A[实际问题] --抽象--> B[数学模型]
    B --数值计算--> C[近似解]
```



### 模型误差

- 实际问题与数学模型之间的差异

!!! example "饭量"
    前天：600g
    昨天：700g
    今天：800g
    十天后？
    线性模型 ❌

### 观测误差

### 截断误差（truncation error）

- 受计算条件限制，无法计算精确的数学公式，只能使用简化方法

!!! example "泰勒展开"
    $$\cos x = \sum_{n=0}^{\infty} \frac{(-1)^n}{(2n)!}x^{2n}$$

    - 级数有无限项，且建立在 $\mathbb{R}$ 上
    - 计算机：只有有限个浮点数！

    取前几项：

    若 $|x| \approx 0$，则 $\cos x \approx 1 - \frac{x^2}{2}$.

    误差：

    $$|R(x)| = |\sum_{n=2}^{\infty} \frac{(-1)^n}{(2n)!}x^{2n}| \leq \frac{x^4}{4!}$$

### 舍入误差

- 实数 --> 二进制浮点数

!!! tip ""
    $$\sum_{n=0}^{1000} \frac{(-1)^n}{(2n)!}x^{2n} \quad \mathbf{vs.} \quad 1 - \frac{x^2}{2}$$

    前者：1000次加法，$\sum_{n=0}^{1000} 4n$ 次乘法

!!! example "计算机画圆"
    到定点距离为定长的点的轨迹：无模型误差
    黑白点阵：舍入误差

## 相对误差与绝对误差

记 $x$ 为准确值，$x^*$ 为近似值，称

$$e(x^*) = x - x^*$$

为 $x^*$ 的绝对误差。

- 上界估计

$$|e(x^*)| = |x - x^*| \leq \varepsilon$$

称 $\varepsilon$ 为绝对误差限。

> $$P \{e(x^*) \leq \varepsilon\} = 1$$

相对误差：

$$e_{\mathrm{r}}(x^*) = \frac{e(x^*)}{x} = \frac{x - x^*}{x} \approx \frac{e(x^*)}{x^*}$$

当 $|e_{\mathrm{r}}(x^*)| \to 0$ 时，

$$|\frac{e(x^*)}{x^*} - \frac{e(x^*)}{x}| = \frac{e(x^*) (x - x^*)}{x^* x} = o(e(x^*))$$

二进制“四舍五入”：$(0.1)_{2} = 0.5$，所以是 $.1$ 就进位.